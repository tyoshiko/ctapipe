

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Factory &mdash; ctapipe v0.5.2.post13+gite7890e1</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="ctapipe v0.5.2.post13+gite7890e1" href="../index.html"/>
        <link rel="up" title="Core Structures and Base Classes (core)" href="../core/index.html"/>
        <link rel="next" title="Provenance" href="ctapipe.core.Provenance.html"/>
        <link rel="prev" title="Map" href="ctapipe.core.Map.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> ctapipe
          

          
          </a>

          
            
            
              <div class="version">
                0.5.2.post13+gite7890e1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started For Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Development Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Command line tools (<code class="docutils literal"><span class="pre">tools</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../analysis/index.html">Analysis (<code class="docutils literal"><span class="pre">analysis</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calib/index.html">Calibration (<code class="docutils literal"><span class="pre">calib</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coordinates/index.html">Coordinates (<code class="docutils literal"><span class="pre">coordinates</span></code>)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../core/index.html">Core Structures and Base Classes (<code class="docutils literal"><span class="pre">core</span></code>)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../core/index.html#introduction">Introduction</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../core/index.html#reference-api">Reference/API</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../core/index.html#module-ctapipe.core">ctapipe.core Package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../core/index.html#classes">Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../core/index.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../flow/index.html">Flow-based framework (<code class="docutils literal"><span class="pre">flow</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../image/index.html">Imaging (<code class="docutils literal"><span class="pre">image</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../instrument/index.html">Instrument (<code class="docutils literal"><span class="pre">instrument</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../io/index.html">Input/Output (<code class="docutils literal"><span class="pre">io</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reco/index.html">Reconstruction (<code class="docutils literal"><span class="pre">reco</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/index.html">Utilities (<code class="docutils literal"><span class="pre">utils</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualization/index.html">Visualization (<code class="docutils literal"><span class="pre">visualization</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FAQ.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bibliography.html">References</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ctapipe</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../core/index.html">Core Structures and Base Classes (<code class="docutils literal"><span class="pre">core</span></code>)</a> &raquo;</li>
        
      <li>Factory</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/ctapipe.core.Factory.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="factory">
<h1>Factory<a class="headerlink" href="#factory" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="ctapipe.core.Factory">
<em class="property">class </em><code class="descclassname">ctapipe.core.</code><code class="descname">Factory</code><span class="sig-paren">(</span><em>config</em>, <em>tool</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/core/factory.html#Factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.core.Factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">ctapipe.core.component.Component</span></code></p>
<p>A base class for all class factories that exist in the <code class="xref py py-obj docutils literal"><span class="pre">Tools</span></code>/<code class="xref py py-obj docutils literal"><span class="pre">Components</span></code>
frameworks.</p>
<p>Either maunally set “subclasses” as a list of the classes that you wish
to be inside the factory, or set it to
Factory.child_subclasses(ParentClass). Using that static method will
obtain all the lowest-level child classes from the parent class.</p>
<p>You must manually specify the discriminator trait (which is what you
set at run-time to choose the product you wish to obtain from the factory)
and the traits of all the classes that are possible to obtain from the
factory. Perhaps in the future these can be obtained automatically.</p>
<p>You must also return the factory name in get_factory_name(), and the
discriminator in get_product_name() in your custom Factory class.</p>
<p>To then obtain the product class from the factory, use ‘get_class()”,
which can be used to then initialise the class. The correct traits
from the correspoding product are set automatically from the factory.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ctapipe.core</span> <span class="k">import</span> <span class="n">Factory</span>
<span class="kn">from</span> <span class="nn">traitlets</span> <span class="k">import</span> <span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">Float</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Unicode</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">MyFactory</span><span class="p">(</span><span class="n">Factory</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;myfactory&quot;</span>
    <span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;do some things and stuff&quot;</span>

    <span class="n">subclasses</span> <span class="o">=</span> <span class="n">Factory</span><span class="o">.</span><span class="n">child_subclasses</span><span class="p">(</span><span class="n">ParentClass</span><span class="p">)</span>
    <span class="n">subclass_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">subclasses</span><span class="p">]</span>

    <span class="n">discriminator</span> <span class="o">=</span> <span class="n">Unicode</span><span class="p">(</span><span class="s1">&#39;DefaultProduct&#39;</span><span class="p">,</span>
                     <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Product to obtain: </span><span class="si">{}</span><span class="s1">&#39;</span>
                     <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">subclass_names</span><span class="p">))</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Product classes traits</span>
    <span class="c1"># Would be nice to have these automatically set...!</span>
    <span class="n">product_trait1</span> <span class="o">=</span> <span class="n">Int</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">product_trait2</span> <span class="o">=</span> <span class="n">Int</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_factory_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

    <span class="k">def</span> <span class="nf">get_product_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">discriminator</span>
</pre></div>
</div>
<p class="rubric">Attributes Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ctapipe.core.Factory.subclass_names" title="ctapipe.core.Factory.subclass_names"><code class="xref py py-obj docutils literal"><span class="pre">subclass_names</span></code></a></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ctapipe.core.Factory.subclasses" title="ctapipe.core.Factory.subclasses"><code class="xref py py-obj docutils literal"><span class="pre">subclasses</span></code></a></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ctapipe.core.Factory.child_subclasses" title="ctapipe.core.Factory.child_subclasses"><code class="xref py py-obj docutils literal"><span class="pre">child_subclasses</span></code></a>()</td>
<td>Return all base subclasses of a parent class.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ctapipe.core.Factory.get_class" title="ctapipe.core.Factory.get_class"><code class="xref py py-obj docutils literal"><span class="pre">get_class</span></code></a>()</td>
<td>Obtain the class constructor for the specified product name.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ctapipe.core.Factory.get_factory_name" title="ctapipe.core.Factory.get_factory_name"><code class="xref py py-obj docutils literal"><span class="pre">get_factory_name</span></code></a>()</td>
<td>Abstract method to be implemented in child factory.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ctapipe.core.Factory.get_product_name" title="ctapipe.core.Factory.get_product_name"><code class="xref py py-obj docutils literal"><span class="pre">get_product_name</span></code></a>()</td>
<td>Abstract method to be implemented in child factory.</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Documentation</p>
<dl class="attribute">
<dt id="ctapipe.core.Factory.subclass_names">
<code class="descname">subclass_names</code><em class="property"> = None</em><a class="headerlink" href="#ctapipe.core.Factory.subclass_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ctapipe.core.Factory.subclasses">
<code class="descname">subclasses</code><em class="property"> = None</em><a class="headerlink" href="#ctapipe.core.Factory.subclasses" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="staticmethod">
<dt id="ctapipe.core.Factory.child_subclasses">
<em class="property">static </em><code class="descname">child_subclasses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/core/factory.html#Factory.child_subclasses"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.core.Factory.child_subclasses" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all base subclasses of a parent class. Finds the bottom level
subclasses that have no further children.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cls</strong> : class</p>
<blockquote>
<div><p>high level class object that contains the desired children classes</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list</p>
<blockquote class="last">
<div><p>list of bottom level subclasses</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ctapipe.core.Factory.get_class">
<code class="descname">get_class</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/core/factory.html#Factory.get_class"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.core.Factory.get_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the class constructor for the specified product name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>product</strong> : class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ctapipe.core.Factory.get_factory_name">
<code class="descname">get_factory_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/core/factory.html#Factory.get_factory_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.core.Factory.get_factory_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method to be implemented in child factory.
Simply return the name of the factory.</p>
</dd></dl>

<dl class="method">
<dt id="ctapipe.core.Factory.get_product_name">
<code class="descname">get_product_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/core/factory.html#Factory.get_product_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.core.Factory.get_product_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method to be implemented in child factory.
Simply return the discriminator traitlet.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ctapipe.core.Provenance.html" class="btn btn-neutral float-right" title="Provenance" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ctapipe.core.Map.html" class="btn btn-neutral" title="Map" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright ctapipe developers.  Last updated 01 Aug 2017 15:35.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.5.2.post13+gite7890e1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>